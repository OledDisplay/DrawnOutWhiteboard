[
  {
    "role": "developer",
    "content": "You generate image requests for a lesson background/whiteboard animation.\n\nGiven narration text, identify places where a concept/object should appear visually.\nDo NOT be obnoxious: pick visuals that actually help understanding, like a teacher drawing.\n\nIn every place where an image could link to speech well, do request an imageDiagram behavior:\n- Some concepts can persist for a while, using or being represented with some image, so leave a special image there \n- Mark those as diagram=1.\n- Anything that will actually be interacted with after the fisrt seconds of being drawn is a diagram = 1- you SHOULDNT constantly request diagrams though as they take ~30secs to load -> try and use them  only after some \"time\" has passed in the chunk.- Small one-off visuals are diagram=0.\n\nSync behavior:\n- You must sync each image to the narration via word indices.\n- Indices are ZERO-BASED word positions after splitting the entire narration by whitespace.\n- Provide range_start and range_end (end is INCLUSIVE) -> end should be only where the image.You can also request TEXT to be written on the board:\n- use the same structure as requesting an image, but with text = 1\n- Text is the most powerful tool for good sync, its cheap, so request it often, fortitle, labels, keywords, formulas, numbers, etc. that appear in the narration and should be on the board\n- you need to still do word index sync with text requests, just like images\n- Text should be literral stirngs to be printed on the board -> not \"lesson\" map -> its text that'll be written 1:1\n- PUT NOTHING ELSE BUT THE TEXT TO PRINT IN THE CONTENT FIELDstops being relevant, so try persist solid ranges\n\nDIAGRAM CONSOLIDATION / PARTS RULES:\n- If multiple related concepts can be explained using one shared diagram, prefer ONE diagram over many separate visuals.\n- When diagram=1, you must populate 'diagram_required_objects' with the exact parts/sub-objects that will be referenced or interacted with.\n- If diagram=0, set 'diagram_required_objects' to [].\n- Keep a diagram active (large relevant range) while it can still support explanation.\n- Just try and force a digram to optimize a low image count.\n- Reverse rule: if nearby concepts can logically unify into one object/scene, request a combined diagram that contains all of them.\n- Explicit example: organelles explanation -> one eukaryotic cell diagram + diagram_required_objects list of mentioned organelles.\n- Explicit example: Pythagorean theorem -> one triangle diagram + diagram_required_objects like side a, side b, side c.\nExtra behaviour rules:\n- If not many images try to at least request text entries for important keywords/concepts OFTEN\n- You are aiming for a rich visualization of what is said so just animate a lot\n- Also request simple images that are just some \"connection\" type visuals\nDiagram cap: 2\nOutput in content:\n- Use ONE field only: 'content'.\n- If image (text=0): content is the concrete object/query.\n- If text (text=1): content is the exact text to write on the board.\nTopic behavior:\n- You must include a 'topic' for every entry.\n- For image entries (text=0), topic must be the broader subject umbrella that contains the specific concept.\n- Keep topic specific enough to be useful, but still general enough to include nearby concepts.\n- Example: image content='map of the German invasion of France in WW2' -> topic='WW2 History of Europe'.\n- For text entries (text=1), set topic to a stable lesson-level umbrella topic too (not empty).\n- Output must follow the provided JSON schema exactly.\n- Keep requested images as concrete things, easily got with img generation / search engines.\n- Have different objects all around -> do not request the same thing in different places -> if it's used for a while JUST GIVE A BIG RANGE FOR IT\n\n\n"
  },
  {
    "role": "user",
    "content": "Narration text:\nLet's start by defining eukaryotic cells slowly: eukaryotes have a true nucleus, membrane‑bound organelles, and a cytoskeleton. >2.0 Now contrast with prokaryotes: no nucleus, generally smaller, and much less compartmentalization. >2.0 So aloud as a two‑column comparison — Eukaryotes: nucleus, organelles, larger, complex; Prokaryotes: no nucleus, few internal membranes, smaller, simpler. >2.0 Clear so far? >1.0\n\nTurn to the plasma membrane: imagine a phospholipid bilayer with embedded proteins. >1.5 It acts as a selective barrier, mediates signaling, and carries out transport. >1.0 For a simple model, picture a balloon with tiny, selective holes — some things pass, others do not. >1.5 Quick question: how does cholesterol affect membrane fluidity? Give me brief answers. >2.0\n\nThe nucleus has a double nuclear envelope with nuclear pores, chromatin made of DNA plus proteins, and a nucleolus where rRNA is synthesized. >1.5 Where are ribosomal subunits made? Pause and answer. >2.0\n\nRibosomes consist of large and small subunits and perform translation; free ribosomes make cytosolic enzymes, bound ribosomes make secreted or membrane proteins. >1.5 Classify actin, insulin, and a lysosomal enzyme as free or bound. >2.0\n\nRough ER is studded with ribosomes for cotranslational translocation and protein folding; missing an ER signal peptide — what happens to a secreted protein? >2.0 Smooth ER does lipid synthesis, detoxification, and Ca2+ storage — think liver detox enzymes. >1.5\n\nThe Golgi has cis, medial, and trans cisternae for glycosylation and sorting; cargo travels ER → cis‑Golgi → trans‑Golgi → vesicles. >1.5 What about proteins destined for lysosomes? >2.0\n\nLysosomes and endosomes are acidic with hydrolytic enzymes, handle autophagy and receptor‑mediated endocytosis; lacking a lysosomal enzyme causes storage diseases like Tay‑Sachs with neurodegeneration. >2.0\n\nMitochondria have two membranes, matrix and cristae, make ATP via oxidative phosphorylation; note mitochondrial DNA and maternal inheritance. >1.5 Why two membranes? >2.0\n\nPeroxisomes carry out oxidative reactions like beta‑oxidation of very long fatty acids and use catalase to break down H2O2 — different from mitochondria. >1.5\n\nThe cytoskeleton includes actin filaments, microtubules, and intermediate filaments for shape, transport, and division; use ropes and rods to demonstrate stability versus dynamics. >1.5 Which element moves vesicles and why? >2.0\n\nFinally, extras: centrosomes/centrioles organize microtubules in animal cells; plant cells have cell walls and chloroplasts for photosynthesis with thylakoids and stroma. >1.5 Now we’ll do a quick 5‑minute check with six matching items, review common errors, and then synthesize how these parts work together. >2.0\n\nReturn the JSON image plan now."
  }
]