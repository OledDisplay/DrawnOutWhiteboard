[
  {
    "role": "developer",
    "content": "You generate image requests for a lesson background/whiteboard animation.\n\nGiven narration text, identify places where a concept/object should appear visually.\nDo NOT be obnoxious: pick visuals that actually help understanding, like a teacher drawing.\n\nIn every place where an image could link to speech well, do request an imageDiagram behavior:\n- Some concepts can persist for a while, using or being represented with some image, so leave a special image there \n- Mark those as diagram=1.\n- Anything that will actually be interacted with after the fisrt seconds of being drawn is a diagram = 1- you SHOULDNT constantly request diagrams though as they take ~30secs to load -> try and use them  only after some \"time\" has passed in the chunk.- Small one-off visuals are diagram=0.\n\nSync behavior:\n- You must sync each image to the narration via word indices.\n- Indices are ZERO-BASED word positions after splitting the entire narration by whitespace.\n- Provide range_start and range_end (end is INCLUSIVE) -> end should be only where the image.You can also request TEXT to be written on the board:\n- use the same structure as requesting an image, but with text = 1\n- Text is the most powerful tool for good sync, its cheap, so request it often, fortitle, labels, keywords, formulas, numbers, etc. that appear in the narration and should be on the board\n- you need to still do word index sync with text requests, just like images\n- Text should be literral stirngs to be printed on the board -> not \"lesson\" map -> its text that'll be written 1:1\n- PUT NOTHING ELSE BUT THE TEXT TO PRINT IN THE CONTENT FIELDstops being relevant, so try persist solid ranges\n\nDIAGRAM CONSOLIDATION / PARTS RULES:\n- If multiple related concepts can be explained using one shared diagram, prefer ONE diagram over many separate visuals.\n- When diagram=1, you must populate 'diagram_required_objects' with the exact parts/sub-objects that will be referenced or interacted with.\n- If diagram=0, set 'diagram_required_objects' to [].\n- Keep a diagram active (large relevant range) while it can still support explanation.\n- Just try and force a digram to optimize a low image count.\n- Reverse rule: if nearby concepts can logically unify into one object/scene, request a combined diagram that contains all of them.\n- Explicit example: organelles explanation -> one eukaryotic cell diagram + diagram_required_objects list of mentioned organelles.\n- Explicit example: Pythagorean theorem -> one triangle diagram + diagram_required_objects like side a, side b, side c.\nExtra behaviour rules:\n- If not many images try to at least request text entries for important keywords/concepts OFTEN\n- You are aiming for a rich visualization of what is said so just animate a lot\n- Also request simple images that are just some \"connection\" type visuals\nDiagram cap: 2\nOutput in content:\n- Use ONE field only: 'content'.\n- If image (text=0): content is the concrete object/query.\n- If text (text=1): content is the exact text to write on the board.\nTopic behavior:\n- You must include a 'topic' for every entry.\n- For image entries (text=0), topic must be the broader subject umbrella that contains the specific concept.\n- Keep topic specific enough to be useful, but still general enough to include nearby concepts.\n- Example: image content='map of the German invasion of France in WW2' -> topic='WW2 History of Europe'.\n- For text entries (text=1), set topic to a stable lesson-level umbrella topic too (not empty).\n- Output must follow the provided JSON schema exactly.\n- Keep requested images as concrete things, easily got with img generation / search engines.\n- Have different objects all around -> do not request the same thing in different places -> if it's used for a while JUST GIVE A BIG RANGE FOR IT\n\n\n"
  },
  {
    "role": "user",
    "content": "Narration text:\nToday we will follow two integrative pathways through the eukaryotic cell: protein production and secretion, and cellular energy flow through respiration — I’ll state goals for each so you know what to track: list the sequential steps and the organelles responsible. >2.0\n\nFirst pathway: protein production and secretion. >1.5\n\nWe begin in the nucleus where a gene is transcribed into pre-mRNA and then processed with splicing, a 5' cap, and a poly-A tail. >1.5\n\nThe mature mRNA is exported to the cytosol and binds a ribosome; if it encodes a secreted or membrane protein, a signal peptide causes the ribosome to dock on the rough ER. >2.0\n\nTranslation continues with co-translational translocation into the ER lumen where chaperones aid folding and initial N-linked glycosylation occurs. >2.0\n\nTransport vesicles bud from the ER and fuse with the cis-Golgi; proteins are further modified and sorted at the trans-Golgi network into secretory vesicles or lysosomal-bound vesicles. >1.5\n\nSecretory vesicles travel along microtubules via motor proteins to the plasma membrane and release their cargo by exocytosis. >2.0\n\nQuick mini-check: I’ll show a scrambled five-step list — take two minutes to put it in order, then we’ll review together. Ready? >1.0\n\nNow pathway two: cellular respiration. >1.0\n\nGlycolysis in the cytosol converts glucose to pyruvate, yielding net ATP and NADH. >1.5\n\nPyruvate enters mitochondria and is converted to acetyl-CoA in the matrix. >1.5\n\nThe TCA cycle in the matrix produces more NADH and FADH2. >1.5\n\nThose carriers feed the electron transport chain on the inner mitochondrial membrane, creating a proton gradient that drives ATP synthase to make ATP. >2.0\n\nMini-check: if the inner membrane becomes proton-permeable, what happens to ATP production? Predict and justify. >1.5\n\nNow a ten-minute group activity: two cases per group, read one minute, list organelles and cascades four minutes, prepare a one-minute report five minutes; I will circulate and prompt deeper thinking. >1.5\n\nIf possible we’ll view live-cell fluorescence or animations of trafficking and mitochondria, or step through labeled diagrams and have you narrate. >1.5\n\nCommon misconceptions: organelles don’t act independently — secretion shows coordination; mitochondria aren’t only powerhouses — they signal apoptosis and make metabolites. >2.0\n\nFive-minute written exit task now — I’ll collect or we’ll peer-review quickly and give immediate feedback. >1.5\n\nRecap: eukaryotic cells have membrane-bound organelles; six major organelles: nucleus, ER, Golgi, mitochondrion, lysosome, plasma membrane — name one function each. >2.0\n\nSummary sentences: protein secretion — nucleus to ER to Golgi to vesicle to membrane; cellular respiration — cytosol to mitochondrion to ATP. >2.0\n\nFor homework, pick one organelle and find a related disease for a three-slide summary, or read more on vesicle trafficking or mitochondrial genetics. >1.5\n\nFinally, two students please state one new thing you learned and one question you still have so I can note unanswered items for next class. >1.0\n\nReturn the JSON image plan now."
  }
]